
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FarmGrower - Agricultural Solutions</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #2c5f2d;
            --secondary-color: #97bc62;
            --accent-color: #ff6b6b;
            --background-color: #f8f9fa;
            --text-color: #333;
            --card-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --transition-speed: 0.3s;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
        }

        header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 1rem;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: 700;
            letter-spacing: 1px;
            color: white;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .logo i {
            color: var(--accent-color);
        }

        .nav-links {
            display: flex;
            gap: 2.5rem;
        }

        .nav-links a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            position: relative;
            padding: 0.5rem 0;
            transition: var(--transition-speed);
        }

        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background-color: white;
            transition: var(--transition-speed);
        }

        .nav-links a:hover::after {
            width: 100%;
        }

        .login-options {
            display: flex;
            gap: 1rem;
        }

        .login-options button {
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 25px;
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition-speed);
        }

        .login-options button:first-child {
            background-color: white;
            color: var(--primary-color);
        }

        .login-options button:last-child {
            background-color: var(--accent-color);
            color: white;
        }

        .login-options button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

       
        main {
            margin-top: 80px;
            padding: 2rem;
            max-width: 1400px;
            margin-left: auto;
            margin-right: auto;
        }

        section {
            margin-bottom: 4rem;
        }

        h2 {
            font-size: 2.5rem;
            color: var(--primary-color);
            margin-bottom: 2rem;
            text-align: center;
            position: relative;
            padding-bottom: 1rem;
        }

        h2::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 3px;
            background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
        }

        .hero-images {
            position: relative;
            border-radius: 20px;
            overflow: hidden;
            margin: 2rem 0;
        }

        .hero-images img {
            width: 100%;
            height: 500px;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .hero-images:hover img {
            transform: scale(1.05);
        }

        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
            padding: 2rem 0;
        }

        .product-card {
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: var(--card-shadow);
            transition: var(--transition-speed);
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
        }

        .product-card img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 10px;
        }

        .product-card h3 {
            font-size: 1.2rem;
            color: var(--primary-color);
        }

        .product-card p {
            color: var(--accent-color);
            font-weight: 600;
        }

        .product-card button {
            padding: 0.8rem;
            border: none;
            border-radius: 8px;
            background-color: var(--primary-color);
            color: white;
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition-speed);
        }

        .product-card button:hover {
            background-color: var(--secondary-color);
        }

        
        .weather-widget {
            background: linear-gradient(135deg, #00b4db, #0083b0);
            color: white;
            padding: 2.5rem;
            border-radius: 20px;
            margin: 2rem 0;
            box-shadow: var(--card-shadow);
            position: relative;
            overflow: hidden;
        }

        .weather-widget::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('https://source.unsplash.com/1600x900/?weather,clouds') center/cover;
            opacity: 0.1;
            z-index: 0;
        }

        .weather-widget > * {
            position: relative;
            z-index: 1;
        }

        .weather-widget h3 {
            margin-bottom: 1.5rem;
            font-size: 1.8rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .weather-widget input {
            width: 100%;
            padding: 1rem;
            border: none;
            border-radius: 8px;
            margin-bottom: 1rem;
            font-size: 1rem;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(5px);
            transition: transform 0.3s ease;
        }

        .weather-widget input:focus {
            outline: none;
            transform: scale(1.02);
        }

        .weather-widget button {
            width: 100%;
            padding: 1rem;
            border: none;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.9);
            color: #0083b0;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(5px);
        }

        .weather-widget button:hover {
            background: white;
            transform: translateY(-2px);
        }

        .weather-info {
            margin-top: 2rem;
            padding: 1.5rem;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            backdrop-filter: blur(5px);
            animation: slideUp 0.5s ease;
        }

        .weather-info h4 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: white;
        }

        .weather-info p {
            display: flex;
            align-items: center;
            gap: 0.8rem;
            margin-bottom: 0.8rem;
            font-size: 1.1rem;
        }

        .weather-info i {
            font-size: 1.3rem;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
                opacity: 1;
            }
            50% {
                transform: scale(1.1);
                opacity: 0.8;
            }
            100% {
                transform: scale(1);
                opacity: 1;
            }
        }

    
        .cart-link {
            position: relative;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .cart-link #cartCount {
            background: var(--accent-color);
            color: white;
            padding: 0.2rem 0.5rem;
            border-radius: 12px;
            font-size: 0.8rem;
            min-width: 20px;
            text-align: center;
        }

    
        .cart-sidebar {
            position: fixed;
            right: -350px;
            top: 80px;
            width: 350px;
            height: calc(100vh - 80px);
            background: white;
            box-shadow: -5px 0 15px rgba(0, 0, 0, 0.1);
            transition: right 0.3s ease;
            padding: 2rem;
            z-index: 1000;
            overflow-y: auto;
        }

        .cart-sidebar.active {
            right: 0;
        }

        .cart-sidebar h3 {
            color: var(--primary-color);
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid var(--secondary-color);
        }

        #cartItems {
            max-height: calc(100vh - 250px);
            overflow-y: auto;
            margin-bottom: 1.5rem;
        }

        .cart-sidebar button {
            width: 100%;
            padding: 1rem;
            border: none;
            border-radius: 8px;
            background-color: var(--accent-color);
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition-speed);
        }

        .cart-sidebar button:hover {
            background-color: #ff5252;
        }

    
        .equipment-categories {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .equipment-card {
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: var(--card-shadow);
            transition: var(--transition-speed);
        }

        .equipment-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
        }

        .equipment-card img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 10px;
            margin-bottom: 1rem;
        }

        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }

            .login-options {
                display: none;
            }

            header {
                padding: 0.5rem;
            }

            .logo {
                font-size: 1.5rem;
            }

            main {
                padding: 1rem;
            }

            .hero-images img {
                height: 300px;
            }

            .cart-sidebar {
                width: 100%;
                right: -100%;
            }
        }


        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }

        @media (max-width: 768px) {
            .mobile-menu-btn {
                display: block;
            }
        }

    
        .mobile-menu {
            display: none;
            position: fixed;
            top: 80px;
            left: 0;
            width: 100%;
            background: white;
            padding: 1rem;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .mobile-menu.active {
            display: block;
        }

        .mobile-menu a {
            display: block;
            padding: 1rem;
            color: var(--primary-color);
            text-decoration: none;
            border-bottom: 1px solid #eee;
        }

    
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }

    
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            z-index: 1001;
            overflow-y: auto;
        }

        .modal-content {
            background-color: white;
            margin: 2rem auto;
            padding: 2rem;
            border-radius: 15px;
            width: 90%;
            max-width: 600px;
            position: relative;
            max-height: calc(100vh - 4rem);
            overflow-y: auto;
        }

        body.modal-open {
            overflow: hidden;
        }

        .close {
            position: absolute;
            right: 1rem;
            top: 1rem;
            font-size: 1.5rem;
            cursor: pointer;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--text-color);
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
        }

        .form-group textarea {
            height: 100px;
            resize: vertical;
        }

        .cart-total {
            margin: 1rem 0;
            padding: 1rem 0;
            border-top: 1px solid #eee;
        }

        .product-card .description {
            color: #666;
            font-size: 0.9rem;
            margin: 0.5rem 0;
        }

        .equipment-card .description {
            color: #666;
            font-size: 0.9rem;
            margin: 0.5rem 0;
        }


        .order-summary {
            margin: 2rem 0;
            padding: 1.5rem;
            background: #f8f9fa;
            border-radius: 8px;
        }

        .order-summary h3 {
            color: var(--primary-color);
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--secondary-color);
        }

        .order-item {
            display: flex;
            justify-content: space-between;
            padding: 0.5rem 0;
            border-bottom: 1px solid #eee;
        }

        .order-item:last-child {
            border-bottom: none;
        }

        .total {
            display: flex;
            justify-content: space-between;
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 2px solid var(--secondary-color);
            font-weight: 600;
            font-size: 1.1rem;
        }

        .order-confirmation {
            text-align: center;
            padding: 2rem;
        }

        .order-confirmation h2 {
            color: var(--primary-color);
            margin-bottom: 1.5rem;
        }

        .order-confirmation h2 i {
            color: #4caf50;
            margin-right: 0.5rem;
        }

        .order-confirmation p {
            margin-bottom: 1rem;
            line-height: 1.6;
        }

        .order-confirmation strong {
            color: var(--primary-color);
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--text-color);
            font-weight: 500;
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 2px rgba(44, 95, 45, 0.1);
        }

        .form-group input:invalid {
            border-color: var(--accent-color);
        }

        .form-group input:invalid:focus {
            box-shadow: 0 0 0 2px rgba(255, 107, 107, 0.1);
        }

        .form-group textarea {
            resize: vertical;
            min-height: 80px;
        }

    
        .cart-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            border-bottom: 1px solid #eee;
            animation: slideIn 0.3s ease;
        }

        .cart-item-details {
            flex: 1;
            margin-right: 1rem;
        }

        .cart-item h4 {
            margin: 0;
            color: var(--text-color);
            font-size: 1rem;
        }

        .cart-item p {
            margin: 0.25rem 0;
            color: var(--primary-color);
            font-weight: 600;
        }

        .quantity-controls {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-top: 0.5rem;
        }

        .quantity-controls button {
            background: var(--primary-color);
            color: white;
            border: none;
            border-radius: 4px;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .quantity-controls button:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        .quantity-controls button:hover:not(:disabled) {
            background: var(--secondary-color);
        }

        .quantity-controls span {
            min-width: 24px;
            text-align: center;
            font-weight: 600;
        }

        .remove-btn {
            background: none;
            border: none;
            color: var(--accent-color);
            cursor: pointer;
            padding: 0.5rem;
            transition: all 0.3s ease;
        }

        .remove-btn:hover {
            color: #ff5252;
            transform: scale(1.1);
        }

    
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--primary-color);
            color: white;
            padding: 1rem 2rem;
            border-radius: 4px;
            animation: slideInRight 0.3s ease, fadeOut 0.3s ease 1.7s;
            z-index: 1000;
        }

        @keyframes slideInRight {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @keyframes fadeOut {
            from {
                opacity: 1;
            }
            to {
                opacity: 0;
            }
        }

        
        .cart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid var(--secondary-color);
        }

        .cart-close {
            background: none;
            border: none;
            color: var(--text-color);
            font-size: 1.2rem;
            cursor: pointer;
            padding: 0.5rem;
            transition: color 0.3s ease;
        }

        .cart-close:hover {
            color: var(--accent-color);
        }

    
        .btn-primary {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 1rem 2rem;
            border: none;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            width: 100%;
            margin-top: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            position: relative;
            overflow: hidden;
        }

        .btn-primary::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                120deg,
                transparent,
                rgba(255, 255, 255, 0.3),
                transparent
            );
            transition: 0.5s;
        }

        .btn-primary:hover::before {
            left: 100%;
        }

        .button-glow {
            position: absolute;
            width: 50px;
            height: 50px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            filter: blur(15px);
            animation: glow 2s infinite;
            opacity: 0;
        }

        @keyframes glow {
            0% {
                transform: scale(1);
                opacity: 0;
            }
            50% {
                transform: scale(1.5);
                opacity: 0.3;
            }
            100% {
                transform: scale(2);
                opacity: 0;
            }
        }

        .btn-primary:hover .button-glow {
            opacity: 1;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
            background: linear-gradient(135deg, var(--secondary-color), var(--primary-color));
        }

        .btn-primary:active {
            transform: translateY(1px);
        }

        .btn-primary i {
            font-size: 1.2rem;
            transition: transform 0.3s ease;
        }

        .btn-primary:hover i {
            transform: scale(1.1) rotate(5deg);
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin: 3rem 0;
        }

        .info-card {
            background: white;
            border-radius: 20px;
            padding: 2rem;
            box-shadow: var(--card-shadow);
            transition: all 0.3s ease;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .info-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }

        .info-card img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 15px;
            margin-bottom: 1.5rem;
        }

        .info-card h3 {
            color: var(--primary-color);
            font-size: 1.5rem;
            margin-bottom: 1rem;
        }

        .info-card p {
            color: var(--text-color);
            line-height: 1.6;
            margin-bottom: 1rem;
        }

        .info-card .icon {
            font-size: 2.5rem;
            color: var(--secondary-color);
            margin-bottom: 1rem;
        }

        .profile-section {
            display: none;
            position: fixed;
            top: 80px;
            right: 0;
            width: 350px;
            height: calc(100vh - 80px);
            background: white;
            box-shadow: -5px 0 15px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            overflow-y: auto;
            transition: transform 0.3s ease;
            transform: translateX(100%);
        }

        .profile-section.active {
            transform: translateX(0);
            display: block;
        }

        .profile-header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 2rem;
            text-align: center;
        }

        .profile-header .avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: white;
            margin: 0 auto 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            color: var(--primary-color);
        }

        .profile-content {
            padding: 2rem;
        }

        .profile-tabs {
            display: flex;
            border-bottom: 2px solid #eee;
            margin-bottom: 1.5rem;
        }

        .profile-tab {
            flex: 1;
            padding: 1rem;
            text-align: center;
            cursor: pointer;
            color: var(--text-color);
            transition: all 0.3s ease;
            border-bottom: 2px solid transparent;
            margin-bottom: -2px;
        }

        .profile-tab.active {
            color: var(--primary-color);
            border-bottom-color: var(--primary-color);
        }

        .profile-tab:hover {
            color: var(--primary-color);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .profile-info {
            margin-bottom: 1.5rem;
        }

        .profile-info h4 {
            color: var(--primary-color);
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }

        .profile-info p {
            color: var(--text-color);
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid #eee;
        }

        .order-item, .booking-item {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1rem;
        }

        .order-item h4, .booking-item h4 {
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }

        .order-date, .booking-date {
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }

        .order-status, .booking-status {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 500;
            margin-top: 0.5rem;
        }

        .status-pending {
            background: #fff3cd;
            color: #856404;
        }

        .status-confirmed {
            background: #d4edda;
            color: #155724;
        }

        .status-completed {
            background: #cce5ff;
            color: #004085;
        }

        .logout-btn {
            width: 100%;
            padding: 1rem;
            background: var(--accent-color);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 1rem;
        }

        .logout-btn:hover {
            background: #ff5252;
        }

        .booking-item {
            position: relative;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            background: white;
            border-radius: 10px;
            box-shadow: var(--card-shadow);
        }

        .booking-status {
            display: inline-block;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
            margin-top: 1rem;
        }

        .status-pending {
            background: #fff3cd;
            color: #856404;
        }

        .status-confirmed {
            background: #d4edda;
            color: #155724;
        }

        .status-completed {
            background: #cce5ff;
            color: #004085;
        }

        .status-cancelled {
            background: #f8d7da;
            color: #721c24;
        }

        .cancellation-note {
            color: #721c24;
            font-size: 0.9rem;
            margin-top: 1rem;
            font-style: italic;
        }

        .completion-note {
            color: #155724;
            font-size: 0.9rem;
            margin-top: 1rem;
            font-style: italic;
        }

        @media screen and (max-width: 768px) {
            .navbar {
                padding: 0.5rem;
                flex-wrap: wrap;
            }

            .nav-links {
                width: 100%;
                display: none;
                flex-direction: column;
                background: white;
                position: absolute;
                top: 70px;
                left: 0;
                right: 0;
                box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
                z-index: 1000;
            }

            .nav-links.active {
                display: flex;
            }

            .nav-links li {
                width: 100%;
                text-align: center;
                padding: 1rem;
                border-bottom: 1px solid #eee;
            }

            .nav-links li:last-child {
                border-bottom: none;
            }

            .menu-toggle {
                display: block;
                font-size: 1.5rem;
                cursor: pointer;
                padding: 0.5rem;
            }

            .hero {
                padding: 2rem 1rem;
                text-align: center;
            }

            .hero h1 {
                font-size: 2rem;
            }

            .hero p {
                font-size: 1rem;
            }

            .products-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
                padding: 1rem;
            }

            .product-card {
                width: 100%;
            }

            .equipment-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
                padding: 1rem;
            }

            .equipment-card {
                width: 100%;
            }

            
            .cart-sidebar {
                width: 100%;
                max-width: none;
            }

            
            .profile-section {
                width: 100%;
                max-width: none;
            }

        
            .form-group {
                margin-bottom: 1rem;
            }

            input, select, textarea {
                width: 100%;
                padding: 0.8rem;
                font-size: 16px; 
            }

            .modal-content {
                width: 95%;
                margin: 1rem auto;
                padding: 1rem;
            }

            
            .booking-form {
                padding: 1rem;
            }

        
            .cart-item {
                flex-direction: column;
                align-items: flex-start;
                gap: 0.5rem;
            }

            .cart-item img {
                width: 100%;
                max-width: 200px;
                margin: 0 auto;
            }

            .quantity-controls {
                width: 100%;
                justify-content: center;
                margin-top: 0.5rem;
            }

         
            .order-item, .booking-item {
                padding: 1rem;
            }

           
            .status-tag {
                width: 100%;
                text-align: center;
                margin-top: 0.5rem;
            }

       
            .btn-primary {
                width: 100%;
                margin: 0.5rem 0;
            }

         
            .notification {
                width: 90%;
                left: 5%;
                right: 5%;
            }
        }

    
        .menu-toggle {
            display: none;
            background: none;
            border: none;
            color: var(--primary-color);
        }

        @media screen and (max-width: 768px) {
            .menu-toggle {
                display: block;
            }
        }

        .mobile-nav {
            display: none;
            position: fixed;
            top: 0;
            right: -100%;
            width: 80%;
            height: 100vh;
            background: white;
            z-index: 2000;
            transition: right 0.3s ease;
            box-shadow: -5px 0 15px rgba(0, 0, 0, 0.1);
            overflow-y: auto;
        }

        .mobile-nav.active {
            right: 0;
        }

        .mobile-nav-header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            padding: 1.5rem;
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .mobile-nav-close {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0.5rem;
        }

        .mobile-nav-content {
            padding: 1rem;
        }

        .mobile-nav-link {
            display: flex;
            align-items: center;
            padding: 1rem;
            color: var(--text-color);
            text-decoration: none;
            border-bottom: 1px solid #eee;
            transition: all 0.3s ease;
        }

        .mobile-nav-link i {
            width: 24px;
            margin-right: 1rem;
            color: var(--primary-color);
        }

        .mobile-nav-link:hover {
            background: #f8f9fa;
            color: var(--primary-color);
            padding-left: 1.5rem;
        }

        .mobile-nav-buttons {
            padding: 1rem;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .mobile-nav-buttons button {
            width: 100%;
            padding: 1rem;
            border: none;
            border-radius: 8px;
            font-weight: 500;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            transition: all 0.3s ease;
        }

        .mobile-nav-buttons button:first-child {
            background: var(--primary-color);
            color: white;
        }

        .mobile-nav-buttons button:last-child {
            background: var(--accent-color);
            color: white;
        }

        .mobile-nav-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1999;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .mobile-nav-overlay.active {
            display: block;
            opacity: 1;
        }

        @media screen and (max-width: 768px) {
            .mobile-nav {
                display: block;
            }

            .nav-links, .login-options {
                display: none;
            }

            .logo {
                font-size: 1.5rem;
            }

            .mobile-menu-btn {
                display: block;
                background: none;
                border: none;
                color: white;
                font-size: 1.5rem;
                cursor: pointer;
                padding: 0.5rem;
                z-index: 2001;
            }
        }

        @keyframes slideIn {
            from {
                transform: translateX(100%);
            }
            to {
                transform: translateX(0);
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }
    </style>
</head>
<body>
   
    <div class="mobile-nav-overlay" id="mobileNavOverlay"></div>
    <nav class="mobile-nav" id="mobileNav">
        <div class="mobile-nav-header">
            <h3><i class="fas fa-leaf"></i> FarmGrower</h3>
            <button class="mobile-nav-close" id="mobileNavClose">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="mobile-nav-content">
            <a href="#home" class="mobile-nav-link">
                <i class="fas fa-home"></i> Home
            </a>
            <a href="#products" class="mobile-nav-link">
                <i class="fas fa-shopping-basket"></i> Products
            </a>
            <a href="#equipment" class="mobile-nav-link">
                <i class="fas fa-tractor"></i> Equipment
            </a>
            <a href="#services" class="mobile-nav-link">
                <i class="fas fa-tools"></i> Services
            </a>
            <a href="#help" class="mobile-nav-link">
                <i class="fas fa-question-circle"></i> Help
            </a>
            <a href="#" onclick="toggleCart()" class="mobile-nav-link">
                <i class="fas fa-shopping-cart"></i> Cart (<span id="mobileCartCount">0</span>)
            </a>
        </div>
        <div class="mobile-nav-buttons">
            <button onclick="window.location.href='login.html'">
                <i class="fas fa-user"></i> Farmer Login
            </button>
            <button onclick="window.location.href='login.html'">
                <i class="fas fa-lock"></i> Admin Login
            </button>
        </div>
    </nav>

    <header>
        <nav>
            <a href="#" class="logo">
                <i class="fas fa-leaf"></i>
                FarmGrower
            </a>
            <div class="nav-links">
                <a href="#home">Home</a>
                <a href="#products">Products</a>
                <a href="#equipment">Equipment</a>
                <a href="#services">Services</a>
                <a href="#help">Help</a>
                <a href="#" onclick="toggleCart()" class="cart-link">
                    <i class="fas fa-shopping-cart"></i>
                    Cart (<span id="cartCount">0</span>)
                </a>
            </div>
            <div class="login-options">
                <button onclick="window.location.href='login.html'">
                    <i class="fas fa-user"></i> Farmer Login
                </button>
                <button onclick="window.location.href='login.html'">
                    <i class="fas fa-lock"></i> Admin Login
                </button>
            </div>
            <button class="mobile-menu-btn" onclick="toggleMobileMenu()">
                <i class="fas fa-bars"></i>
            </button>
        </nav>
    </header>

    <div class="mobile-menu">
        <a href="#home">Home</a>
        <a href="#products">Products</a>
        <a href="#equipment">Equipment</a>
        <a href="#services">Services</a>
        <a href="#help">Help</a>
        <a href="#" onclick="showLoginModal()">Farmer Login</a>
        <a href="#" onclick="showAdminLogin()">Admin Login</a>
    </div>

    <main>
        <section id="home" class="fade-in">
            <h2>Welcome to FarmGrower</h2>
            <div class="hero-images">
                <img src="https://source.unsplash.com/1600x900/?farming,agriculture" alt="Smart Farming">
            </div>
            <div class="info-grid">
                <div class="info-card">
                    <i class="fas fa-seedling icon"></i>
                    <img src="https://source.unsplash.com/1600x900/?smart-farming" alt="Smart Farming Solutions">
                    <h3>Smart Farming Solutions</h3>
                    <p>Embrace the future of agriculture with our cutting-edge farming solutions. We combine traditional wisdom with modern technology to maximize your yield.</p>
                </div>
                <div class="info-card">
                    <i class="fas fa-tractor icon"></i>
                    <img src="https://source.unsplash.com/1600x900/?modern-agriculture" alt="Modern Equipment">
                    <h3>Modern Equipment</h3>
                    <p>Access state-of-the-art farming equipment and machinery. Our rental service makes advanced technology accessible to every farmer.</p>
                </div>
                <div class="info-card">
                    <i class="fas fa-leaf icon"></i>
                    <img src="https://source.unsplash.com/1600x900/?organic-farming" alt="Sustainable Farming">
                    <h3>Sustainable Farming</h3>
                    <p>Join us in promoting sustainable agriculture. Our products and practices are designed to protect both your crops and the environment.</p>
                </div>
            </div>
        </section>

        <section id="products" class="fade-in">
            <h2>Agricultural Products</h2>
            <div class="product-grid">
                <div class="product-card">
                    <img src="https://images.unsplash.com/photo-1574323347407-f5e1ad6d020b?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="Rice Seeds">
                    <h3>Premium Rice Seeds</h3>
                    <p class="price">₹10/kg (₹250/bag)</p>
                    <p class="description">High-yield variety suitable for all seasons</p>
                    <button onclick="addToCart('Premium Rice Seeds', 250, 'seeds')">
                        <i class="fas fa-shopping-cart"></i> Add to Cart
                    </button>
                </div>
                <div class="product-card">
                    <img src="https://images.unsplash.com/photo-1574181630752-e0317c5eaf27?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="Wheat Seeds">
                    <h3>Organic Wheat Seeds</h3>
                    <p class="price">₹15/kg (₹300/bag)</p>
                    <p class="description">Certified organic wheat variety</p>
                    <button onclick="addToCart('Organic Wheat Seeds', 300, 'seeds')">
                        <i class="fas fa-shopping-cart"></i> Add to Cart
                    </button>
                </div>
                <div class="product-card">
                    <img src="https://images.unsplash.com/photo-1592982537447-7440770cbfc9?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="Corn Seeds">
                    <h3>Hybrid Corn Seeds</h3>
                    <p class="price">₹20/kg (₹400/bag)</p>
                    <p class="description">High-yielding hybrid variety</p>
                    <button onclick="addToCart('Hybrid Corn Seeds', 400, 'seeds')">
                        <i class="fas fa-shopping-cart"></i> Add to Cart
                    </button>
                </div>
                <div class="product-card">
                    <img src="https://images.unsplash.com/photo-1592921870789-04563d55041c?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="Tomato Seeds">
                    <h3>Hybrid Tomato Seeds</h3>
                    <p class="price">₹50/packet</p>
                    <p class="description">Disease-resistant variety</p>
                    <button onclick="addToCart('Hybrid Tomato Seeds', 50, 'seeds')">
                        <i class="fas fa-shopping-cart"></i> Add to Cart
                    </button>
                </div>
                <div class="product-card">
                    <img src="https://images.unsplash.com/photo-1587049633312-d628ae50a8ae?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="Cucumber Seeds">
                    <h3>Cucumber Seeds</h3>
                    <p class="price">₹40/packet</p>
                    <p class="description">High-yielding variety</p>
                    <button onclick="addToCart('Cucumber Seeds', 40, 'seeds')">
                        <i class="fas fa-shopping-cart"></i> Add to Cart
                    </button>
                </div>
                <div class="product-card">
                    <img src="https://images.unsplash.com/photo-1588891557811-5f9464cf4c17?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="Chili Seeds">
                    <h3>Premium Chili Seeds</h3>
                    <p class="price">₹45/packet</p>
                    <p class="description">Spicy variety with high yield</p>
                    <button onclick="addToCart('Premium Chili Seeds', 45, 'seeds')">
                        <i class="fas fa-shopping-cart"></i> Add to Cart
                    </button>
                </div>
            </div>
        </section>

        <section id="equipment" class="fade-in">
            <h2>Farm Equipment</h2>
            <div class="equipment-categories">
                <div class="equipment-card">
                    <img src="https://images.unsplash.com/photo-1592435468595-b4b3d7e67858?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="Tractor">
                    <h3>John Deere Tractor</h3>
                    <p class="price">₹1500/hour</p>
                    <p class="description">Suitable for all farming operations</p>
                    <button onclick="bookEquipment('John Deere Tractor', 1500)">
                        <i class="fas fa-calendar-check"></i> Book Now
                    </button>
                </div>
                <div class="equipment-card">
                    <img src="https://images.unsplash.com/photo-1588784773902-1c17b6abc7c1?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="Harvester">
                    <h3>Modern Harvester</h3>
                    <p class="price">₹2000/hour</p>
                    <p class="description">Efficient crop harvesting</p>
                    <button onclick="bookEquipment('Modern Harvester', 2000)">
                        <i class="fas fa-calendar-check"></i> Book Now
                    </button>
                </div>
                <div class="equipment-card">
                    <img src="https://images.unsplash.com/photo-1579829366248-204fe8413f31?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="Small Field Drone">
                    <h3>Crop Monitoring Drone</h3>
                    <p class="price">₹500/hour</p>
                    <p class="description">Ideal for fields up to 5 acres</p>
                    <button onclick="bookEquipment('Crop Monitoring Drone', 500)">
                        <i class="fas fa-calendar-check"></i> Book Now
                    </button>
                </div>
                <div class="equipment-card">
                    <img src="https://images.unsplash.com/photo-1581092162384-8987c1d64718?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="Large Field Drone">
                    <h3>Spraying Drone</h3>
                    <p class="price">₹800/hour</p>
                    <p class="description">Pesticide spraying for large fields</p>
                    <button onclick="bookEquipment('Spraying Drone', 800)">
                        <i class="fas fa-calendar-check"></i> Book Now
                    </button>
                </div>
            </div>
        </section>

        <section id="services" class="fade-in">
            <div class="weather-widget">
                <h3><i class="fas fa-cloud-sun"></i> Weather Forecast</h3>
                <input type="text" id="locationInput" placeholder="Enter your location">
                <button onclick="getWeather()">
                    <i class="fas fa-search"></i> Get Weather
                </button>
                <div id="weatherResult"></div>
            </div>
        </section>
    </main>

    <div class="cart-sidebar">
        <div class="cart-header">
            <h3><i class="fas fa-shopping-cart"></i> Shopping Cart</h3>
            <button class="cart-close" onclick="toggleCart(false)">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div id="cartItems"></div>
        <div class="cart-total">
            <h4>Total: ₹<span id="cartTotal">0</span></h4>
        </div>
        <button onclick="showCheckoutForm()">
            <i class="fas fa-shopping-bag"></i> Proceed to Checkout
        </button>
    </div>

    <div id="checkoutModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Checkout</h2>
            <form id="checkoutForm">
                <div class="form-group">
                    <label for="name">Full Name</label>
                    <input type="text" id="name" required>
                </div>
                <div class="form-group">
                    <label for="phone">Phone Number</label>
                    <input type="tel" id="phone" pattern="[0-9]{10}" title="Please enter a valid 10-digit phone number" required>
                </div>
                <div class="form-group">
                    <label for="email">Email Address</label>
                    <input type="email" id="email" required>
                </div>
                <div class="form-group">
                    <label for="address">Street Address</label>
                    <textarea id="address" rows="2" required></textarea>
                </div>
                <div class="form-group">
                    <label for="city">City</label>
                    <input type="text" id="city" required>
                </div>
                <div class="form-group">
                    <label for="state">State</label>
                    <input type="text" id="state" required>
                </div>
                <div class="form-group">
                    <label for="pincode">PIN Code</label>
                    <input type="text" id="pincode" pattern="[0-9]{6}" title="Please enter a valid 6-digit PIN code" required>
                </div>
                <div class="form-group">
                    <label for="deliveryInstructions">Delivery Instructions (Optional)</label>
                    <textarea id="deliveryInstructions" rows="2" placeholder="Any special instructions for delivery"></textarea>
                </div>
                <div class="order-summary">
                    <h3>Order Summary</h3>
                    <div id="orderItems"></div>
                    <div class="total">
                        <span>Total Amount:</span>
                        <span id="orderTotal">₹0</span>
                    </div>
                </div>
                <button type="submit" class="btn-primary">
                    <i class="fas fa-shopping-bag"></i> Place Order
                    <span class="button-glow"></span>
                </button>
            </form>
        </div>
    </div>

    <div id="bookingModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Book Equipment</h2>
            <form id="bookingForm">
                <div class="form-group">
                    <label for="bookingDate">Date:</label>
                    <input type="date" id="bookingDate" required>
                </div>
                <div class="form-group">
                    <label for="bookingHours">Number of Hours:</label>
                    <input type="number" id="bookingHours" min="1" required>
                </div>
                <div class="form-group">
                    <label for="farmerName">Your Name:</label>
                    <input type="text" id="farmerName" required>
                </div>
                <div class="form-group">
                    <label for="farmerPhone">Phone Number:</label>
                    <input type="tel" id="farmerPhone" required>
                </div>
                <div class="form-group">
                    <label for="fieldAddress">Field Address:</label>
                    <textarea id="fieldAddress" required></textarea>
                </div>
                <button type="submit" class="btn-primary">
                    <i class="fas fa-calendar-check"></i> Confirm Booking
                    <span class="button-glow"></span>
                </button>
            </form>
        </div>
    </div>

    <div class="profile-section" id="farmerProfile">
        <div class="profile-header">
            <div class="avatar">
                <i class="fas fa-user"></i>
            </div>
            <h3 id="profileName">Farmer Name</h3>
        </div>
        <div class="profile-content">
            <div class="profile-tabs">
                <div class="profile-tab active" onclick="showTab('profile')">Profile</div>
                <div class="profile-tab" onclick="showTab('orders')">My Orders</div>
                <div class="profile-tab" onclick="showTab('bookings')">My Bookings</div>
            </div>
            
            <div id="profileTab" class="tab-content active">
                <div class="profile-info">
                    <h4>Personal Information</h4>
                    <p><strong>Name:</strong> <span id="infoName"></span></p>
                    <p><strong>Gender:</strong> <span id="infoGender"></span></p>
                    <p><strong>Phone:</strong> <span id="infoPhone"></span></p>
                    <p><strong>Address:</strong> <span id="infoAddress"></span></p>
                    <p><strong>Land Area:</strong> <span id="infoLandArea"></span> acres</p>
                    <p><strong>Land Location:</strong> <span id="infoLandLocation"></span></p>
                </div>
                <button class="btn-primary" onclick="editProfile()">
                    <i class="fas fa-edit"></i> Edit Profile
                </button>
            </div>
            
            <div id="ordersTab" class="tab-content">
                <div id="ordersList">
                    <!-- Orders -->
                </div>
            </div>
            
            <div id="bookingsTab" class="tab-content">
                <div id="bookingsList">
                    <!-- Bookings-->
                </div>
            </div>
            
            <button class="logout-btn" onclick="logout()">
                <i class="fas fa-sign-out-alt"></i> Logout
            </button>
        </div>
    </div>

    <div id="editProfileModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Edit Profile</h2>
            <form id="editProfileForm">
                <div class="form-group">
                    <label for="editName">Full Name</label>
                    <input type="text" id="editName" required>
                </div>
                <div class="form-group">
                    <label for="editGender">Gender</label>
                    <select id="editGender" required>
                        <option value="Male">Male</option>
                        <option value="Female">Female</option>
                        <option value="Other">Other</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="editPhone">Phone Number</label>
                    <input type="tel" id="editPhone" pattern="[0-9]{10}" required>
                </div>
                <div class="form-group">
                    <label for="editAddress">Address</label>
                    <textarea id="editAddress" required></textarea>
                </div>
                <div class="form-group">
                    <label for="editLandArea">Land Area (in acres)</label>
                    <input type="number" id="editLandArea" min="0" step="0.1" required>
                </div>
                <div class="form-group">
                    <label for="editLandLocation">Land Location</label>
                    <input type="text" id="editLandLocation" required>
                </div>
                <button type="submit" class="btn-primary">
                    <i class="fas fa-save"></i> Save Changes
                </button>
            </form>
        </div>
    </div>

    <script>
        
        let cart = JSON.parse(localStorage.getItem('cart') || '[]');
        let isCartOpen = false;

        document.addEventListener('DOMContentLoaded', function() {
            updateCartDisplay();
            checkAuth();
        });

        function addToCart(product, price, category) {
            try {
                const existingItem = cart.find(item => item.product === product);
                
                if (existingItem) {
                    existingItem.quantity = (existingItem.quantity || 1) + 1;
                } else {
                    cart.push({
                        product,
                        price: Number(price),
                        category,
                        quantity: 1
                    });
                }
                
                localStorage.setItem('cart', JSON.stringify(cart));
                
            
                updateCartDisplay();
                toggleCart(true);
                
                showNotification('Item added to cart');
            } catch (error) {
                console.error('Error adding to cart:', error);
                showNotification('Error adding item to cart', true);
            }
        }

        function showNotification(message, isError = false) {
            const notification = document.createElement('div');
            notification.className = `notification ${isError ? 'error' : ''}`;
            notification.textContent = message;
            document.body.appendChild(notification);
            setTimeout(() => notification.remove(), 2000);
        }

        function updateCartDisplay() {
            const cartItems = document.getElementById('cartItems');
            const cartCount = document.getElementById('cartCount');
            
            if (!cartItems || !cartCount) return;

            cartItems.innerHTML = cart.map(item => 
                `<div class="cart-item">
                    <div class="cart-item-details">
                        <h4>${item.product}</h4>
                        <p>₹${item.price} × ${item.quantity}</p>
                        <div class="quantity-controls">
                            <button onclick="updateQuantity('${item.product}', ${item.quantity - 1})" ${item.quantity <= 1 ? 'disabled' : ''}>-</button>
                            <span>${item.quantity}</span>
                            <button onclick="updateQuantity('${item.product}', ${item.quantity + 1})">+</button>
                        </div>
                    </div>
                    <button onclick="removeFromCart('${item.product}')" class="remove-btn">
                        <i class="fas fa-trash"></i>
                    </button>
                </div>`
            ).join('');

            const totalItems = cart.reduce((sum, item) => sum + (item.quantity || 1), 0);
            cartCount.textContent = totalItems;
            
            const total = cart.reduce((sum, item) => sum + (item.price * (item.quantity || 1)), 0);
            const cartTotal = document.getElementById('cartTotal');
            if (cartTotal) {
                cartTotal.textContent = total.toFixed(2);
            }
        }

        function updateQuantity(product, newQuantity) {
            if (newQuantity < 1) return;
            
            const item = cart.find(item => item.product === product);
            if (item) {
                item.quantity = newQuantity;
                localStorage.setItem('cart', JSON.stringify(cart));
                updateCartDisplay();
            }
        }

        function removeFromCart(product) {
            cart = cart.filter(item => item.product !== product);
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartDisplay();
            
            if (cart.length === 0) {
                toggleCart(false);
            }
        }

        function toggleCart(show) {
            const cartSidebar = document.querySelector('.cart-sidebar');
            if (!cartSidebar) return;

            if (show === undefined) {
                isCartOpen = !isCartOpen;
            } else {
                isCartOpen = show;
            }
            
            if (isCartOpen) {
                cartSidebar.classList.add('active');
            } else {
                cartSidebar.classList.remove('active');
            }
        }

        function showCheckoutForm() {
            if (cart.length === 0) {
                alert('Your cart is empty!');
                return;
            }

            const orderItems = document.getElementById('orderItems');
            const orderTotal = document.getElementById('orderTotal');
            let total = 0;

            orderItems.innerHTML = cart.map(item => {
                const itemTotal = item.price * (item.quantity || 1);
                total += itemTotal;
                return `
                    <div class="order-item">
                        <span class="item-name">${item.product} × ${item.quantity}</span>
                        <span class="item-price">₹${itemTotal.toFixed(2)}</span>
                    </div>
                `;
            }).join('');

            orderTotal.textContent = `₹${total.toFixed(2)}`;
            document.getElementById('checkoutModal').style.display = 'block';
            document.body.classList.add('modal-open');
        }

        document.getElementById('checkoutForm').onsubmit = function(e) {
            e.preventDefault();
            

            if (cart.length === 0) {
                alert('Your cart is empty!');
                return;
            }

            const phone = document.getElementById('phone').value;
            const pincode = document.getElementById('pincode').value;

            if (!/^\d{10}$/.test(phone)) {
                alert('Please enter a valid 10-digit phone number');
                return;
            }

            if (!/^\d{6}$/.test(pincode)) {
                alert('Please enter a valid 6-digit PIN code');
                return;
            }

            const orderDetails = {
                items: cart.map(item => ({
                    ...item,
                    subtotal: item.price * (item.quantity || 1)
                })),
                customer: {
                    name: document.getElementById('name').value,
                    phone: phone,
                    email: document.getElementById('email').value,
                    address: {
                        street: document.getElementById('address').value,
                        city: document.getElementById('city').value,
                        state: document.getElementById('state').value,
                        pincode: pincode
                    },
                    deliveryInstructions: document.getElementById('deliveryInstructions').value
                },
                total: cart.reduce((sum, item) => sum + (item.price * (item.quantity || 1)), 0),
                status: 'pending',
                orderDate: new Date().toISOString(),
                orderId: generateOrderId()
            };
            
            try {
                
                const orders = JSON.parse(localStorage.getItem('orders') || '[]');
                orders.push(orderDetails);
                localStorage.setItem('orders', JSON.stringify(orders));
                
                cart = [];
                localStorage.setItem('cart', JSON.stringify(cart));
                updateCartDisplay();
                
                document.getElementById('checkoutModal').style.display = 'none';
                
                showOrderConfirmation(orderDetails);
            } catch (error) {
                console.error('Error processing order:', error);
                alert('There was an error processing your order. Please try again.');
            }
        };

    
        async function getWeather() {
            const location = document.getElementById('locationInput').value;
            try {
            const response = await fetch(
                `https://api.weatherapi.com/v1/current.json?key=a62b700216ef49d59fc155008241912&q=${location}`
            );
            const data = await response.json();
            displayWeather(data);
            } catch (error) {
                console.error('Error fetching weather:', error);
                document.getElementById('weatherResult').innerHTML = 
                    '<p class="error">Error fetching weather data. Please try again.</p>';
            }
        }

        function displayWeather(data) {
            const weatherResult = document.getElementById('weatherResult');
            const weatherIcon = getWeatherIcon(data.current.condition.text.toLowerCase());
            
            weatherResult.innerHTML = `
                <div class="weather-info">
                    <h4><i class="fas fa-map-marker-alt"></i> ${data.location.name}, ${data.location.region}</h4>
                    <p class="temperature">
                        <i class="fas ${weatherIcon}"></i>
                        ${data.current.temp_c}°C
                        <span class="condition">${data.current.condition.text}</span>
                    </p>
                    <p><i class="fas fa-tint"></i> Humidity: ${data.current.humidity}%</p>
                    <p><i class="fas fa-wind"></i> Wind: ${data.current.wind_kph} km/h</p>
                    <p><i class="fas fa-cloud-rain"></i> Precipitation: ${data.current.precip_mm} mm</p>
                    <p><i class="fas fa-sun"></i> UV Index: ${data.current.uv}</p>
                </div>
            `;
        }

        function getWeatherIcon(condition) {
            const iconMap = {
                'clear': 'fa-sun',
                'sunny': 'fa-sun',
                'partly cloudy': 'fa-cloud-sun',
                'cloudy': 'fa-cloud',
                'overcast': 'fa-cloud',
                'rain': 'fa-cloud-rain',
                'light rain': 'fa-cloud-rain',
                'heavy rain': 'fa-cloud-showers-heavy',
                'thunder': 'fa-bolt',
                'thunderstorm': 'fa-bolt',
                'snow': 'fa-snowflake',
                'mist': 'fa-smog',
                'fog': 'fa-smog'
            };
            
            for (const [key, value] of Object.entries(iconMap)) {
                if (condition.includes(key)) {
                    return value;
                }
            }
            return 'fa-cloud';
        }
        function bookEquipment(equipment, hourlyRate) {
            const modal = document.getElementById('bookingModal');
            modal.dataset.equipment = equipment;
            modal.dataset.hourlyRate = hourlyRate;
            modal.style.display = 'block';
            document.body.classList.add('modal-open');
        }

        document.addEventListener('click', (e) => {
            const cartSidebar = document.querySelector('.cart-sidebar');
            const cartLink = document.querySelector('.cart-link');
            
            if (isCartOpen && 
                cartSidebar && 
                !cartSidebar.contains(e.target) && 
                !cartLink.contains(e.target)) {
                toggleCart(false);
            }
        });

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('fade-in');
                }
            });
        }, { threshold: 0.1 });

        document.querySelectorAll('section').forEach(section => {
            observer.observe(section);
        });

        function showOrderConfirmation(order) {
            const modal = document.createElement('div');
            modal.className = 'modal';
            modal.innerHTML = `
                <div class="modal-content">
                    <h2><i class="fas fa-check-circle"></i> Order Placed Successfully!</h2>
                    <div class="order-confirmation">
                        <p>Order ID: <strong>${order.orderId}</strong></p>
                        <p>Total Amount: <strong>₹${order.total}</strong></p>
                        <p>Delivery Address:</p>
                        <p>${order.customer.address.street}<br>
                           ${order.customer.address.city}, ${order.customer.address.state}<br>
                           PIN: ${order.customer.address.pincode}</p>
                        <p>We will contact you at ${order.customer.phone} for order confirmation.</p>
                        <button onclick="this.closest('.modal').remove()" class="btn btn-primary">
                            Close
                        </button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
            modal.style.display = 'block';
        }

        window.onclick = function(event) {
            const modals = document.getElementsByClassName('modal');
            for (let modal of modals) {
                if (event.target == modal) {
                    modal.style.display = 'none';
                    document.body.classList.remove('modal-open');
                }
            }
        }

        document.querySelectorAll('.close').forEach(closeBtn => {
            closeBtn.onclick = function() {
                this.closest('.modal').style.display = 'none';
                document.body.classList.remove('modal-open');
            }
        });

        document.getElementById('bookingForm').onsubmit = function(e) {
            e.preventDefault();
            const modal = document.getElementById('bookingModal');
            const bookingDetails = {
                equipment: modal.dataset.equipment,
                hourlyRate: modal.dataset.hourlyRate,
                date: document.getElementById('bookingDate').value,
                hours: document.getElementById('bookingHours').value,
                farmer: document.getElementById('farmerName').value,
                phone: document.getElementById('farmerPhone').value,
                address: document.getElementById('fieldAddress').value,
                totalCost: modal.dataset.hourlyRate * document.getElementById('bookingHours').value,
                bookingDate: new Date().toISOString(),
                status: 'pending', 
                bookingId: 'BK' + Date.now() 
            };
            
            const bookings = JSON.parse(localStorage.getItem('bookings') || '[]');
            bookings.push(bookingDetails);
            localStorage.setItem('bookings', JSON.stringify(bookings));
            
            modal.style.display = 'none';
            document.body.classList.remove('modal-open');
            showNotification('Booking submitted successfully! Our team will confirm shortly.');
            
            if (document.getElementById('farmerProfile').classList.contains('active')) {
                loadBookings();
            }
        };

        function loadBookings() {
            const bookings = JSON.parse(localStorage.getItem('bookings') || '[]');
            const currentUser = JSON.parse(localStorage.getItem('currentUser'));
            const bookingsList = document.getElementById('bookingsList');

            const userBookings = bookings.filter(booking => booking.phone === currentUser.phone);
            
            if (userBookings.length === 0) {
                bookingsList.innerHTML = '<p>No bookings found.</p>';
                return;
            }

            bookingsList.innerHTML = userBookings.map(booking => `
                <div class="booking-item">
                    <div class="booking-date">
                        <i class="fas fa-calendar"></i> ${new Date(booking.date).toLocaleDateString()}
                    </div>
                    <h4>${booking.equipment}</h4>
                    <p>Booking ID: ${booking.bookingId || 'N/A'}</p>
                    <p>Duration: ${booking.hours} hours</p>
                    <p>Total Cost: ₹${booking.totalCost}</p>
                    <div class="booking-status status-${booking.status || 'pending'}">
                        ${(booking.status || 'pending').toUpperCase()}
                    </div>
                    ${booking.status === 'cancelled' ? 
                        `<p class="cancellation-note">* This booking has been cancelled. Please contact support for more information.</p>` 
                        : ''}
                    ${booking.status === 'completed' ? 
                        `<p class="completion-note">* Equipment usage completed. Thank you for using our service!</p>` 
                        : ''}
                </div>
            `).join('');
        }

        function checkBookingUpdates() {
            if (document.getElementById('farmerProfile').classList.contains('active')) {
                loadBookings();
            }
        }

        setInterval(checkBookingUpdates, 30000);

        
        function checkAuth() {
            const currentUser = JSON.parse(localStorage.getItem('currentUser'));
            if (!currentUser) {
                return;
            }

            if (currentUser.type === 'admin') {
                window.location.href = 'admin-dashboard.html';
            } else {
                const loginOptions = document.querySelector('.login-options');
                loginOptions.innerHTML = `
                    <button onclick="showUserProfile()">
                        <i class="fas fa-user"></i> ${currentUser.name || currentUser.email}
                    </button>
                    <button onclick="logout()">
                        <i class="fas fa-sign-out-alt"></i> Logout
                    </button>
                `;
            }
        }

        function logout() {
            localStorage.removeItem('currentUser');
            window.location.reload();
        }

        function showUserProfile() {
            document.getElementById('farmerProfile').classList.add('active');
            loadProfileData();
        }

        function loadProfileData() {
            const currentUser = JSON.parse(localStorage.getItem('currentUser'));
            if (!currentUser) return;

            document.getElementById('profileName').textContent = currentUser.name || 'Farmer Name';

        
            document.getElementById('infoName').textContent = currentUser.name || 'Not set';
            document.getElementById('infoGender').textContent = currentUser.gender || 'Not set';
            document.getElementById('infoPhone').textContent = currentUser.phone || 'Not set';
            document.getElementById('infoAddress').textContent = currentUser.address || 'Not set';
            document.getElementById('infoLandArea').textContent = currentUser.landArea || 'Not set';
            document.getElementById('infoLandLocation').textContent = currentUser.landLocation || 'Not set';

    
            loadOrders();

        
            loadBookings();
        }

        function showTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.profile-tab').forEach(tab => tab.classList.remove('active'));

            document.getElementById(tabName + 'Tab').classList.add('active');
            document.querySelector(`.profile-tab[onclick="showTab('${tabName}')"]`).classList.add('active');
        }

        function editProfile() {
            const currentUser = JSON.parse(localStorage.getItem('currentUser'));
            const modal = document.getElementById('editProfileModal');

            document.getElementById('editName').value = currentUser.name || '';
            document.getElementById('editGender').value = currentUser.gender || 'Male';
            document.getElementById('editPhone').value = currentUser.phone || '';
            document.getElementById('editAddress').value = currentUser.address || '';
            document.getElementById('editLandArea').value = currentUser.landArea || '';
            document.getElementById('editLandLocation').value = currentUser.landLocation || '';

            modal.style.display = 'block';
            document.body.classList.add('modal-open');
        }

        document.getElementById('editProfileForm').onsubmit = function(e) {
            e.preventDefault();
            
            const currentUser = JSON.parse(localStorage.getItem('currentUser'));
            const updatedUser = {
                ...currentUser,
                name: document.getElementById('editName').value,
                gender: document.getElementById('editGender').value,
                phone: document.getElementById('editPhone').value,
                address: document.getElementById('editAddress').value,
                landArea: document.getElementById('editLandArea').value,
                landLocation: document.getElementById('editLandLocation').value
            };

            localStorage.setItem('currentUser', JSON.stringify(updatedUser));
            
            document.getElementById('editProfileModal').style.display = 'none';
            document.body.classList.remove('modal-open');
            loadProfileData();
        };

        function loadOrders() {
            const orders = JSON.parse(localStorage.getItem('orders') || '[]');
            const currentUser = JSON.parse(localStorage.getItem('currentUser'));
            const ordersList = document.getElementById('ordersList');

            const userOrders = orders.filter(order => order.customer.phone === currentUser.phone);
            
            if (userOrders.length === 0) {
                ordersList.innerHTML = '<p>No orders found.</p>';
                return;
            }

            ordersList.innerHTML = userOrders.map(order => `
                <div class="order-item">
                    <div class="order-date">
                        <i class="fas fa-calendar"></i> ${new Date(order.orderDate).toLocaleDateString()}
                    </div>
                    <h4>Order ID: ${order.orderId}</h4>
                    <p>Total Amount: ₹${order.total}</p>
                    <div class="order-status status-${order.status}">
                        ${order.status.toUpperCase()}
                    </div>
                </div>
            `).join('');
        }

        document.addEventListener('DOMContentLoaded', function() {
            
            const menuToggle = document.createElement('button');
            menuToggle.className = 'menu-toggle';
            menuToggle.innerHTML = '<i class="fas fa-bars"></i>';
            document.querySelector('.navbar').insertBefore(menuToggle, document.querySelector('.nav-links'));

            menuToggle.addEventListener('click', () => {
                const navLinks = document.querySelector('.nav-links');
                navLinks.classList.toggle('active');
                menuToggle.innerHTML = navLinks.classList.contains('active') 
                    ? '<i class="fas fa-times"></i>' 
                    : '<i class="fas fa-bars"></i>';
            });

            document.addEventListener('click', (e) => {
                const navLinks = document.querySelector('.nav-links');
                const menuToggle = document.querySelector('.menu-toggle');
                
                if (navLinks.classList.contains('active') && 
                    !navLinks.contains(e.target) && 
                    !menuToggle.contains(e.target)) {
                    navLinks.classList.remove('active');
                    menuToggle.innerHTML = '<i class="fas fa-bars"></i>';
                }
            });
            const viewportMeta = document.createElement('meta');
            viewportMeta.name = 'viewport';
            viewportMeta.content = 'width=device-width, initial-scale=1, maximum-scale=1';
            document.head.appendChild(viewportMeta);

            function lockScroll() {
                document.body.style.overflow = 'hidden';
                document.body.style.position = 'fixed';
                document.body.style.width = '100%';
            }

            function unlockScroll() {
                document.body.style.overflow = '';
                document.body.style.position = '';
                document.body.style.width = '';
            }

            const modals = document.querySelectorAll('.modal');
            modals.forEach(modal => {
                modal.addEventListener('show', lockScroll);
                modal.addEventListener('hide', unlockScroll);
            });

            let touchStartX = 0;
            let touchEndX = 0;

            document.addEventListener('touchstart', e => {
                touchStartX = e.changedTouches[0].screenX;
            }, false);

            document.addEventListener('touchend', e => {
                touchEndX = e.changedTouches[0].screenX;
                handleSwipe();
            }, false);

            function handleSwipe() {
                const cart = document.querySelector('.cart-sidebar');
                const profile = document.querySelector('.profile-section');
                const swipeDistance = touchEndX - touchStartX;

                if (swipeDistance > 50) {
                    if (cart && cart.classList.contains('active')) {
                        toggleCart();
                    }
                    if (profile && profile.classList.contains('active')) {
                        profile.classList.remove('active');
                    }
                }
            }
        });

        function toggleMobileNav() {
            const mobileNav = document.getElementById('mobileNav');
            const overlay = document.getElementById('mobileNavOverlay');
            const menuBtn = document.querySelector('.mobile-menu-btn');
            
            if (mobileNav.classList.contains('active')) {
                mobileNav.classList.remove('active');
                overlay.classList.remove('active');
                menuBtn.innerHTML = '<i class="fas fa-bars"></i>';
                document.body.style.overflow = '';
            } else {
                mobileNav.classList.add('active');
                overlay.classList.add('active');
                menuBtn.innerHTML = '<i class="fas fa-times"></i>';
                document.body.style.overflow = 'hidden';
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            const menuBtn = document.querySelector('.mobile-menu-btn');
            const closeBtn = document.getElementById('mobileNavClose');
            const overlay = document.getElementById('mobileNavOverlay');
            const mobileNav = document.getElementById('mobileNav');

            menuBtn.addEventListener('click', toggleMobileNav);
            closeBtn.addEventListener('click', toggleMobileNav);
            overlay.addEventListener('click', toggleMobileNav);

            document.querySelectorAll('.mobile-nav-link').forEach(link => {
                link.addEventListener('click', () => {
                    toggleMobileNav();
                });
            });

            function updateMobileCartCount() {
                const mobileCartCount = document.getElementById('mobileCartCount');
                if (mobileCartCount) {
                    const totalItems = cart.reduce((sum, item) => sum + (item.quantity || 1), 0);
                    mobileCartCount.textContent = totalItems;
                }
            }

            const originalUpdateCartDisplay = updateCartDisplay;
            updateCartDisplay = function() {
                originalUpdateCartDisplay();
                updateMobileCartCount();
            };

            
            updateMobileCartCount();

        
            let touchStartX = 0;
            let touchEndX = 0;

            document.addEventListener('touchstart', e => {
                touchStartX = e.changedTouches[0].screenX;
            }, false);

            document.addEventListener('touchend', e => {
                touchEndX = e.changedTouches[0].screenX;
                handleSwipe();
            }, false);

            function handleSwipe() {
                const swipeDistance = touchEndX - touchStartX;

                if (swipeDistance < -50 && !mobileNav.classList.contains('active')) {
                    toggleMobileNav();
                }
                else if (swipeDistance > 50 && mobileNav.classList.contains('active')) {
                    toggleMobileNav();
                }
            }
        });
    </script>
</body>
</html>
